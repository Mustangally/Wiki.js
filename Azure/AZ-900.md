---
title: AZ-900 Notes
description: Text wall for AZ-900 Studying
published: true
date: 2022-05-06T21:46:01.338Z
tags: azure, certification, notes
editor: markdown
dateCreated: 2022-05-06T21:46:01.338Z
---

# Benefits of Cloud Computing

- Pay for What You Use
- Cloud Providers have a greater capacity and ability to offer services than you would likely have on-prem.
- Multiple options for connectivity (internet, VPN, ExpressRoute, MPLS, etc.)
- Cloud provider manages the hardware and base level OS's (updates, upgrade, replacements, etc.)
- Agility
    - Can scale and change your infrastructure dynamically, without an upfront cost.
- Regionality
    - Can deploy resources closer to your customer using Regions in Azure
- HA
    - Can make your infrastructure very durable by spreading amongst buildings, servers, and racks.
- Disaster Recovery
    - Replications between regions allows for resiliency in the event of a full region failure.
- Scalability
    - Can dynamically scale resources during requirement peaks and valleys

# CapEx, OpEx, Consumption Based

- Capital Expenditure is the concept of buying hardware or software ahead of time. It's the "up-front" cost.
- Operational Expenditure is the concept of paying for things as you use it, not ahead of time. This is what the cloud model offers.
- Consumption Based model allows you to respond to demand without an upfront cost, which can help with situations that are inconsistent or unstable.

# Cloud Service Categories

Each of the below are different layers of shared responsibility.

- IaaS - Infrastructure as a Service
    - Cloud provider provides the hardware and the base hypervisor level services like base OS, Storage, and networking. Anything else (VMs, etc.) is on the customer.
    - The downside here is the customer has to worry about VM patching, backups, security, etc.
- PaaS - Platform as a Service
    - Here, the cloud provider takes more responsibility. They are now handling the VM's and runtimes that are running your services. Now you're only worried about your own applications that you're running on their platform.
    - Customers have services available to them like AKS, App Services, etc. to run their application without being concerned with the underlying infrastructure.
- Serverless Computing still somewhat falls under the PaaS umbrella, but rather than your application running on some underlying VM or container, Serverless computing does not have that underlying dependency. These are event triggered, and you only pay for the exact amount of work done.
    - Azure Functions
    - Azure Logic Apps
- SaaS - Software as a Service
    - This is a full product offering. Something like O365 is a SaaS offering from Microsoft. Many companies that deploy their application in the cloud, present their application as a Saas to their own customer.

# Types of Cloud Computing

There are 3 different types of Cloud computing, and they have to do with where the resources are actually located.
We have Private Cloud, Hybrid Cloud, and Public Cloud.

- Public Cloud - Things like Azure or AWS
    - More or less Limitless
    - multi-region
    - many different services
    - greatest pool of resources
- Private Cloud
    - Essentially a cloud service hosted by your own company
    - company owns the hardware
- Hybrid Cloud
    - This is a mixture of the two above
    - Allows utilization of your own hardware as well as public resources
        - agility and scalability out of your own resource pool
    - May need close proximity latency provided by private cloud, but the full resource pool of public

# Regions & Region Pairs

### Azure Environments

While most companies are going to utilize the "commercial" Azure environment, There are a couple other environments that are logically and physically separate within the Azure global system.

These environments are:

- AzureUSGovernment
- AzureGermanCloud
- AzureCloud
- AzureChinaCloud

These separate environments are mostly due to varying restrictions and compliance regulations set in certain countries or organizations.

Within these environments, there are many "regions". These are directly linked to physical location.

### Regions

A region is essentially defined as a "latency envelope". Azure tolerates a 2ms round-trip latency between any 2 datacenters in a "region". This will essentially mean that all of the datacenters in a "region" are relatively close together and connected by private connections.

Regions allow you to localize services to the end consumer so that they aren't having to access services potentially on the other side of the globe. You can also use these to comply with regulations and policies like data sovereignty.

You may also want to run services in multiple regions to be able to withstand natural disasters or other causes of downtime in a given region. This can provide a very reliable HA setup.

### Region Pair

Microsoft has designated something called "region pairs" that cannot be changed by the customer. What these do is to automatically provide a level of resiliency for your data and services by replicating them to another region.

You may notice in the pairing table found online, the pairs never leave any geo-political boundaries. This ensures that level of regulation compliance we spoke of before.

Microsoft also uses these pairs as a blueprint for rolling updates, and rolling starts in the event of a major region outage. It will prioritize one region in a pair to bring online, or update, then move the the second. This ensures that service is not interrupted for the customer.

# Availability Zones

Within a Region, you will likely see multiple physical datacenters. Microsoft will group these datacenters into "Availability Zones". What this means is that each zone has it's own separate utility grid (power, cooling, networking) so that a problem with one datacenter (or zone) does not effect another. This provides great resiliency to a region.

Most major Regions in Azure will have 3 distinct availability zones, and you can select them during resource creation in Azure. Note that between subscriptions, Availability zones are not identical (buildings could be different). They will still be the same in concept, but the architecture could be different.

You can set certain resources to be "zonal", so it may automatically set it's own availability zone and this cannot be changed. They will be marked by default as "Zone-Redundant", meaning it is replicated across the AZ's

# Resource Groups

1 level below a subscription, a resource group is a "group" that any service or resource created in Azure must live in. It is essentially an organization tool to group different resources together however you see fit. These can mix regions as well as resource types. Note however that Resource Groups cannot be nested. You can however move resources between groups. You can still connect resources between groups, so they are not necessarily locked into communicated only within their own group.

A common configuration would be to group resource types, or resources grouped by purpose, product, or deployment. Often times resources in a group will share a lifecycle. This means they are built, live, and die together.

Another use case would be to confine a user or policy to a certain resource group. This allows you to manage users and resource creation/management more easily.

You can label your resource groups with metadata in the form of Tags, which are key:value pairs that assign different labels and properties to a group. You can point policies and other rules within Azure to any group with a given Tag. This further allows you to manage resources and permissions across the Azure infrastructure.

# Subscriptions

A subscription is an "agreement" between the customer and Microsoft. You can have multiple subscriptions per account, but they act as a Billing Boundary or Security boundary.

### Azure AD

It is important to understand that any organization will have an Azure AD tenant that has Users and Groups. Any Azure subscription will trust 1 and only 1 Azure AD tenant. This allows you to grant users permissions to different resources however you see fit.

### Access Control

Within a subscription, you can grant RBAC permissions to different users or Groups. You can also apply policies and budgets as you see fit. These will be inherited down to any resource group or resource within the subscription.

### Limits

Every subscription has a set of soft and hard limits as far as objects and resources allowed per subscription. While these limits are very large, they do exist.

### Environments

One use case you may see would be things like dev/test and prod environments split into seperate subscriptions. This can allow you to set different budgets or restrictions based on the environment.

# Management Groups

These groups essentially define access control for Subscriptions. These can be nested to 6 levels, so that you can create tiered access rights. They technically live between subscriptions and Azure AD, and allow you to grant permissions to different subscriptions to different people. Think of them similar to security groups for subscriptions.

# Resource Manager - ARM

At a very basic level, ARM allows you to use IaaC files to define and deploy resources into your environment. Azure actually gives you a large library of ARM Templates to start with so you don't necessarily have to start from scratch.

These IaaC files/templates are stored in Azure in the JSON format.

This allows for largely scalable resource management and deployment. You can manage everything in a code file rather than having to click through the portal.

# Azure ARC

Arc is the idea of expanding Azure to other systems to maintain all of the benefits of Azure, and utilize the resources of other systems (on-prem or other cloud providers)

Not only can you use this to deploy and manage things on different systems, but you can do things like Arc-Enabled k8s, and span a k8s cluster across different cloud providers. You can also have things like Data Services (DBs), AppServices, Machine Learning, etc.

# Resource Reqs for VMs

- At a minimum you will need an Operating system and a disk. This typically makes an "OS Managed Disk". You can have an ephemeral disk for some cases, but these are specialized and used for things like AKS.
- Optionally, we can add more disks for data.
- Networking
    - vNIC
    - vNET/SubNet
    - PublicIP
    - Network Security Group

Note that you can use resource groups to keep all of the components of a VM grouped together for organization sake.

# Core Compute Resources

## IaaS Options

When creating a VM, there are many different types of VM Templates you can select.
These are also all grouped into different categories:

- General Purpose
- Compute Optimized
- Memory Optimized
- Storage Optimized

VM's are great when the customer needs management and direct access to the OS of the machine they're utilizing. Unlike many PaaS services, you have far more control over the fine details.

### VM Scale Sets

These are built on-top of VM's. You would first build a Template and Configuration, then you set a scale (min, max, auto settings). What this does is automatically scale VM deployments based on requirements.

This is different than Azure Batch, which will batch create a set of VMs that are identical.

## PaaS Options

With PaaS options you have less to worry about as you don't need to manage the base OS for your machines. This means you can scale and deploy significantly faster, and have less underlying management requirement on your end.

These are things like AKS, ACI, App Services, etc. Essentially you can deploy all of your applications in containers that live within a VM and container Runtime, but you don't need to worry about the VM or Runtime with PaaS Offerings.

## Serverless

With serverless computing, you only have to pay for exactly what you're using. This does however have the lowest level of direct management.

Function Apps and Logic Apps are simple processes that run and then terminate, so you only pay to the millisecond of compute you use.

- Function apps are built on code and allow you to run scripts and other basic code.
- Logic Apps are graphically designed processes that run a task based on a trigger or condition.

## Azure Virtual Desktop

Essentially an Azure hosted VDI. Azure will manage the broker, Hosts, networking, etc that makes all of this run. You can simply deploy a VD that people can connect to in whichever way you configure.

# Core Network Resources

## Virtual Network

This is a deployable network that is confined to a single subscription, and a single region. You cannot span regions/subscriptions. You can connect different regions or subscriptions, but you'd have to create more networks to connect.

Each network is defined by an IPv4 CIDR Range. You'll typically use RFC1918, which defines the ranges that stay internal to the network (think LAN) and are not routable over the public internet. (10/8, 172.16/12, 192.168/16) You can also optionally utilize IPv6

Once you have your vNet created, you'll typically divide it into different Subnets. You'll then group your resources in different subnets. Think of this the same way you'd create an on-prem network. Note that in Azure, you'll always lose 5 IP's to utility functions within the subnet. This means you'll have 251 assignable IP's in a /24 subnet.

To make a service in your environment publicly accessible, you'll need a "Public IP Resource" and attach that to either a VM directly, or to a Load Balancer that interfaces with your network.

As stated before, you can connect two different networks. First, you do need to make sure you don't have any IP conflicts in the different networks. This can be difficult, but it is essential to making networks work together. Then you'll use Peering to connect the different networks together. This can be on-prem networks, or it can be other Regions in Azure.

### Connection Types

- Policy
- Route Based
    - Site-to-Site
    - Point-to-Site
    - VPN
- ExpressRoute
    - This allows for the option to not connect via the public internet. You can have a private connection run from your facility to a "meet me" location for MS, and this allows a private connection to Azure. You can also use something like MPLS to connect.

# Public & Private Endpoints

For many different services in Azure, you will have a "public endpoint" which makes the service accessible from the internet. It is routable on the internet. That doesn't mean it's actually accessible, as you most times still need to authenticate to the service.
You can also configure a firewall infront of the endpoint to restrict who can access it.

Often times for storage, you can also make a private endpoint for the storage resource, and only allow traffic from a certain set of resources within your private vnet. This is called a service endpoint.

### Private Endpoint

You can optionally disable public access, and only allow connection on a "private endpoint". This means you can restrict access to the resource only from the Azure networks you define and allow. This can still be peered networks, but they need to be defined in the private endpoint.

# Storage Accounts

A storage account is what defines the parameters of your storage. This can be things like Region, performance (std vs prem), redundancy.

### Type

- standard
    - generally will be GPv2
- Premium - low latency, No GRS
    - You will need to choose your storage type (block blob, files, etc.)

### Redundancy

- LRS - Local Region only, still has 3 copies on location
- ZRS - This is still in 1 region, but now it is spread between availability zones.
- GRS - 3 Copies in primary region (3 AZ), 3 copies in the region pair (1 AZ)

### Services

- Blob
    - Block - general unstructured data, lives in a "container"
        - Hot Tier
        - Cool Tier
        - Archive Tier
    - Page - this is page files
        - This is used by disks (in VMs)
    - Append - log files and such
- Files
    - SMB/NFS Shares
        - Azure File Sync
            - Tiering based on Access Time
- Queues
    - First in First Out data store
- Table
    - Key-Value Pairs

# Database Resources

Most of these are PaaS offerings in Azure

## SQL Based Offerings

- SQL Server - Relational Database
    - Fixed Schema
    - Records & Properties & a key
    - Azure SQL DB
    - Azure SQL MI (managed instance)
        - different in features from DB
        - Runs in your vnet

## Open Source Offerings

There are Managed Database offerings for:

- MySQL
- PostgreSQL
    - Citus: Muli-server, sharding data
        - Azure Hyperscale
- MariaDB

## Azure Specific

## Cosmos DB

- Multi Model
    - Documents
        - SQL
        - MongoDB
    - Columns
        - CassandraDB
    - Table
        - ETCD
    - Graph
        - Gremlin
- Multi Consistency
    - Allows write to multiple regions, and cosmos will sync the databases as needed